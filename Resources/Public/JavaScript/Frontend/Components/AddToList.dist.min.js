"use strict";!function(){function u(t,e){for(var o;o=t.firstElementChild;)e.append(o);return e}Zeroseven.Blog.register("addToList",function(o,n,t,e){var r=e||window.event,i={button:t||r.target,list:document.querySelector(o),control:document.querySelector(n)};window.history.replaceState(null,null,i.button.href),void 0!==r&&r.preventDefault(),i.button.href="javascript:void(0)",i.button.removeAttribute("onclick"),i.button.style.cursor="no-drop",Object.keys(i).forEach(function(t){return i[t].dataset.loading="true"}),Zeroseven.Blog.loadContents(i.button.dataset.href,function(t,e){e<400?(Object.keys(i).forEach(function(t){return delete i[t].dataset.loading}),u(t[o],i.list),u(t[n],function(t){for(var e;e=t.firstElementChild;)t.removeChild(e);return t}(i.control))):confirm("The requested site could not be loaded:\n"+e+").\n\nDo you want to try again?")&&(window.location.href=i.button.href)},o,n)})}();