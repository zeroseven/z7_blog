"use strict";Zeroseven.Blog.Utility.register("addToList",function(i,s,e,t,o){var n=o||window.event,a={button:t||n.target,list:document.querySelector(i),control:document.querySelector(s)};window.history.replaceState(null,null,a.button.href),void 0!==n&&n.preventDefault(),a.button.href="javascript:void(0)",a.button.removeAttribute("onclick"),a.button.style.cursor="no-drop",e&&(a.button.innerText=e),Object.keys(a).forEach(function(e){return a[e].dataset.loading="true"}),Zeroseven.Blog.Utility.loadContents(a.button.dataset.href,null,function(e,t){var o,n,r,l;t<400?(Object.keys(a).forEach(function(e){return delete a[e].dataset.loading}),o=Zeroseven.Blog.Utility.appendChilds(e[i],a.list),n=Zeroseven.Blog.Utility.appendChilds(e[s],Zeroseven.Blog.Utility.removeChilds(a.control)),r=window.scrollY,l=window.scrollX,((!o[0]||"a"!==o[0].nodeName.toLowerCase())&&o[0].querySelector("a")||o[0]).focus(),window.scroll(l,r),Zeroseven.Blog.Utility.trigger("addToList:complete",{elements:a,items:o,controls:n})):confirm("The requested site could not be loaded:\n"+t+").\n\nDo you want to try again?")&&(window.location.href=a.button.href)},i,s)});