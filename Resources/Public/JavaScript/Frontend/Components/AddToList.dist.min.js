"use strict";!function(){function u(t,e){for(var n;n=t.firstElementChild;)e.append(n);return e}Zeroseven.Blog.register("addToList",function(o,r,t,e,n){var i=n||window.event,a={button:e||i.target,list:document.querySelector(o),control:document.querySelector(r)};window.history.replaceState(null,null,a.button.href),void 0!==i&&i.preventDefault(),a.button.href="javascript:void(0)",a.button.removeAttribute("onclick"),a.button.style.cursor="no-drop",t&&(a.button.innerText=t),Object.keys(a).forEach(function(t){return a[t].dataset.loading="true"}),Zeroseven.Blog.loadContents(a.button.dataset.href,function(t,e){var n;e<400?(n=a.list.getElementsByTagName("a").length,Object.keys(a).forEach(function(t){return delete a[t].dataset.loading}),u(t[o],a.list),u(t[r],function(t){for(var e;e=t.firstElementChild;)t.removeChild(e);return t}(a.control)),a.list.getElementsByTagName("a")[n].focus()):confirm("The requested site could not be loaded:\n"+e+").\n\nDo you want to try again?")&&(window.location.href=a.button.href)},o,r)})}();