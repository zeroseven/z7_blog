"use strict";Zeroseven.Blog.Utility.register("addToList",function(n,r,t,e,o){var l=o||window.event,i={button:e||l.target,list:document.querySelector(n),control:document.querySelector(r)};window.history.replaceState(null,null,i.button.href),void 0!==l&&l.preventDefault(),i.button.href="javascript:void(0)",i.button.removeAttribute("onclick"),i.button.style.cursor="no-drop",t&&(i.button.innerText=t),Object.keys(i).forEach(function(t){return i[t].dataset.loading="true"}),Zeroseven.Blog.Utility.loadContents(i.button.dataset.href,null,function(t,e){var o;e<400?(o=i.list.getElementsByTagName("a").length,Object.keys(i).forEach(function(t){return delete i[t].dataset.loading}),Zeroseven.Blog.Utility.appendChilds(t[n],i.list),Zeroseven.Blog.Utility.appendChilds(t[r],Zeroseven.Blog.Utility.removeChilds(i.control),!0),i.list.getElementsByTagName("a")[o].focus(),Zeroseven.Blog.Utility.trigger("addToList:complete",{elements:i,contents:t})):confirm("The requested site could not be loaded:\n"+e+").\n\nDo you want to try again?")&&(window.location.href=i.button.href)},n,r)});