"use strict";Zeroseven.Blog.Utility.register("addToList",function(l,i,t,e,o){var n=o||window.event,s={button:e||n.target,list:document.querySelector(l),control:document.querySelector(i)};window.history.replaceState(null,null,s.button.href),void 0!==n&&n.preventDefault(),s.button.href="javascript:void(0)",s.button.removeAttribute("onclick"),s.button.style.cursor="no-drop",t&&(s.button.innerText=t),Object.keys(s).forEach(function(t){return s[t].dataset.loading="true"}),Zeroseven.Blog.Utility.loadContents(s.button.dataset.href,null,function(t,e){var o,n,r;e<400?(o=s.list.getElementsByTagName("a").length,Object.keys(s).forEach(function(t){return delete s[t].dataset.loading}),n=Zeroseven.Blog.Utility.appendChilds(t[l],s.list),r=Zeroseven.Blog.Utility.appendChilds(t[i],Zeroseven.Blog.Utility.removeChilds(s.control)),s.list.getElementsByTagName("a")[o].focus(),Zeroseven.Blog.Utility.trigger("addToList:complete",{elements:s,items:n,controls:r})):confirm("The requested site could not be loaded:\n"+e+").\n\nDo you want to try again?")&&(window.location.href=s.button.href)},l,i)});