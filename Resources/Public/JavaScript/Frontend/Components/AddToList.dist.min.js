"use strict";!function(){function l(t,e){for(var n;n=t.firstElementChild;)e.append(n);return e}Zeroseven.Blog.register("addToList",function(n,o,t,e,r){var i=r||window.event,u={button:e||i.target,list:document.querySelector(n),control:document.querySelector(o)};window.history.replaceState(null,null,u.button.href),void 0!==i&&i.preventDefault(),u.button.href="javascript:void(0)",u.button.removeAttribute("onclick"),u.button.style.cursor="no-drop",t&&(u.button.innerText=t),Object.keys(u).forEach(function(t){return u[t].dataset.loading="true"}),Zeroseven.Blog.loadContents(u.button.dataset.href,function(t,e){e<400?(Object.keys(u).forEach(function(t){return delete u[t].dataset.loading}),l(t[n],u.list),l(t[o],function(t){for(var e;e=t.firstElementChild;)t.removeChild(e);return t}(u.control))):confirm("The requested site could not be loaded:\n"+e+").\n\nDo you want to try again?")&&(window.location.href=u.button.href)},n,o)})}();