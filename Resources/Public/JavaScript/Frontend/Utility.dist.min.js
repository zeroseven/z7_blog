"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}!function(){var e=(_createClass(t,null,[{key:"register",value:function(e,t){return window.Zeroseven=window.Zeroseven||{},window.Zeroseven.Blog=window.Zeroseven.Blog||{},window.Zeroseven.Blog[e]=t}},{key:"removeChilds",value:function(e){for(var t;t=e.firstElementChild;)e.removeChild(t);return e}},{key:"appendChilds",value:function(e,t){for(var r,n=[];r=e.firstElementChild;)n.push(t.appendChild(r));return n}},{key:"trigger",value:function(e,t){var r;return"function"==typeof window.CustomEvent?r=new CustomEvent("z7_blog:"+e,{detail:t}):(r=document.createEvent("CustomEvent")).initCustomEvent("z7_blog:"+e,!0,!0,t),document.dispatchEvent(r),t}},{key:"loadContents",value:function(e,t,r){for(var n=this,o=arguments.length,s=new Array(3<o?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];var i={},l=new XMLHttpRequest;this.trigger("ajax:send",{url:e,selectors:s}),l.onreadystatechange=function(){var t;n.trigger("ajax:statechange",{state:l.readyState,url:e,selectors:s,request:l}),4===l.readyState&&(n.trigger("ajax:done",{url:e,selectors:s,request:l}),n.trigger("ajax:ready",{url:e,selectors:s,request:l}),200===l.status?(t=(new DOMParser).parseFromString(l.responseText,"text/html"),s.forEach(function(e){i[e]=t.querySelector(e)}),n.trigger("ajax:success",{url:e,selectors:s,request:l,contents:i}),n.trigger("ajax:complete",{url:e,selectors:s,request:l,contents:i}),"function"==typeof r&&r(i,l.status)):n.trigger("ajax:error",{url:e,selectors:s,request:l,callback:r}))};var u="";t&&"object"===_typeof(t)&&Object.keys(t).forEach(function(e){u+=(u?"&":"")+e+(t[e]?"="+encodeURI(t[e]):"")}),l.open("POST",e,!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),l.send(u)}}]),t);function t(){_classCallCheck(this,t)}e.register("Utility",e)}();